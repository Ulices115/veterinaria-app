"use strict";(self.webpackChunkfenix_app=self.webpackChunkfenix_app||[]).push([[884],{8984:(j,C,r)=>{r.d(C,{_:()=>U});var v=r(7574),b=r(8259),l=r.n(b),f=r(7716),m=r(6518),p=r(4655);let U=(()=>{class d{constructor(u,h){this.authService=u,this.router=h,this.transacciones=[]}canActivate(u,h){return this.permisos(u)}CanLoad(u,h){return this.permisos(u)}permisos(u){var h=this.authService.usuario.transacciones;return new v.y(g=>{if(h){let Z=h.find(_=>_===u.data.Transaccion);Z==u.data.Transaccion?(console.log("acceso a:",Z),g.next(!0)):(g.next(!1),console.log("sin acceso"),l().fire({title:"Acceso denegado",html:"No cuentas con el permiso",icon:"error",confirmButtonText:"ok"}))}else g.next(!1),console.log("sin permisos"),l().fire({title:"Acceso denegado",html:"No cuentas con permisos",icon:"error",confirmButtonText:"ok"})})}}return d.\u0275fac=function(u){return new(u||d)(f.LFG(m.e),f.LFG(p.F0))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},7884:(j,C,r)=>{r.r(C),r.d(C,{ServiciosModule:()=>xe});var v=r(8583),b=r(206),l=r(3679),f=r(4655),m=r(8984),p=r(8390),U=r(8259),d=r.n(U),e=r(7716),u=r(2340),h=r(1841);let g=(()=>{class t{constructor(i){this.httpClient=i,this.url=`${u.N.baseUrl}/api/producto_servicio/`}guardarservicio(i){return this.httpClient.post(this.url,i)}getservicios(){return this.httpClient.get(this.url)}getservicio(i,o){return this.httpClient.get(this.url+i+`?tipo=${o}`)}actualizarservicio(i){return this.httpClient.put(this.url+i._id,i)}eliminarservicio(i){return this.httpClient.delete(this.url+i)}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(h.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=r(8382),_=r(3738),M=r(5618),T=r(8295),A=r(6627),x=r(9983),N=r(1095);let w=(()=>{class t{constructor(i,o){this.httpservi=i,this.servimenu=o,this.valorI=0,this.id_existente="",this.servicio={id_prod_serv:"",descripcion:"",codigo_barra:"",tipo:"Servicio",clave_prod_serv:"",clave_unidad:"",unidad:"",objeto_imp:"",impuesto:"",tipo_factor:"",tasa_cuota:""}}ngOnInit(){this.servimenu.setencabezado("Alta de servicios")}formato(){this.servicio.id_prod_serv="M"+String(1e9+this.valorI).slice(1),this.servicio.codigo_barra=this.servicio.id_prod_serv}creacionservicio(){""!==this.servicio.descripcion?this.httpservi.getservicios().subscribe(i=>{this.valorI=i+1,this.formato(),this.agregarservicio()}):d().fire({title:"Llene los campos",text:"Favor de llenar los campos",icon:"warning",confirmButtonText:"ok"})}agregarservicio(){this.httpservi.guardarservicio(this.servicio).subscribe(i=>{console.log("servicio agregado"),this.modal()},i=>{d().fire({title:"Servicio repetido",html:"El servicio ya se encuentra en la base de datos",icon:"warning",confirmButtonText:"ok"}),console.log(i)})}modal(){d().fire({title:"Agregado",html:`Servicio  <b>${this.servicio.id_prod_serv}</b> dado de alta correctamente`,icon:"success",confirmButtonText:"ok"}).then(i=>{i.isConfirmed&&(this.servicio.descripcion="",this.servicio.clave_prod_serv="",this.servicio.clave_unidad="",this.servicio.unidad="",this.servicio.objeto_imp="",this.servicio.impuesto="",this.servicio.tipo_factor="",this.servicio.tasa_cuota="")})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(g),e.Y36(Z.h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-alta"]],decls:68,vars:8,consts:[[1,"custom"],[1,"row"],["fxLayoutAlign","space-between",1,"col-sm-auto"],["appearance","fill",2,"width","260px"],["matInput","","placeholder","servicio","value","","required","true",3,"ngModel","ngModelChange"],["appearance","fill",2,"width","200px"],["matInput","","placeholder","","value","","required","true",3,"ngModel","ngModelChange"],["appearance","fill",2,"width","100px"],[1,"col-sm"],[1,"example-button-row",2,"margin-right","1px"],["mat-raised-button","","color","accent",2,"margin-top","15px",3,"click"]],template:function(i,o){1&i&&(e._UZ(0,"br"),e.TgZ(1,"mat-card",0),e.TgZ(2,"h3"),e._uU(3,"Ingrese los datos"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"mat-form-field",3),e.TgZ(8,"mat-label"),e._uU(9,"Descripci\xf3n del servicio "),e.TgZ(10,"mat-icon"),e._uU(11,"create"),e.qZA(),e.qZA(),e.TgZ(12,"input",4),e.NdJ("ngModelChange",function(a){return o.servicio.descripcion=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",2),e.TgZ(14,"mat-form-field",5),e.TgZ(15,"mat-label"),e._uU(16,"Clave del servicio "),e.TgZ(17,"mat-icon"),e._uU(18,"create"),e.qZA(),e.qZA(),e.TgZ(19,"input",6),e.NdJ("ngModelChange",function(a){return o.servicio.clave_prod_serv=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",2),e.TgZ(21,"mat-form-field",7),e.TgZ(22,"mat-label"),e._uU(23,"Clave de la unidad"),e.TgZ(24,"mat-icon"),e._uU(25,"create"),e.qZA(),e.qZA(),e.TgZ(26,"input",6),e.NdJ("ngModelChange",function(a){return o.servicio.clave_unidad=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",2),e.TgZ(28,"mat-form-field",7),e.TgZ(29,"mat-label"),e._uU(30,"Unidad "),e.TgZ(31,"mat-icon"),e._uU(32,"create"),e.qZA(),e.qZA(),e.TgZ(33,"input",6),e.NdJ("ngModelChange",function(a){return o.servicio.unidad=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",2),e.TgZ(35,"mat-form-field",7),e.TgZ(36,"mat-label"),e._uU(37,"Objeto de impuesto "),e.TgZ(38,"mat-icon"),e._uU(39,"create"),e.qZA(),e.qZA(),e.TgZ(40,"input",6),e.NdJ("ngModelChange",function(a){return o.servicio.objeto_imp=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",2),e.TgZ(42,"mat-form-field",7),e.TgZ(43,"mat-label"),e._uU(44,"impuesto "),e.TgZ(45,"mat-icon"),e._uU(46,"create"),e.qZA(),e.qZA(),e.TgZ(47,"input",6),e.NdJ("ngModelChange",function(a){return o.servicio.impuesto=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",2),e.TgZ(49,"mat-form-field",7),e.TgZ(50,"mat-label"),e._uU(51,"Tipo de factor "),e.TgZ(52,"mat-icon"),e._uU(53,"create"),e.qZA(),e.qZA(),e.TgZ(54,"input",6),e.NdJ("ngModelChange",function(a){return o.servicio.tipo_factor=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",2),e.TgZ(56,"mat-form-field",7),e.TgZ(57,"mat-label"),e._uU(58,"Tasa o cuota"),e.TgZ(59,"mat-icon"),e._uU(60,"create"),e.qZA(),e.qZA(),e.TgZ(61,"input",6),e.NdJ("ngModelChange",function(a){return o.servicio.tasa_cuota=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",8),e.TgZ(63,"div",9),e.TgZ(64,"button",10),e.NdJ("click",function(){return o.creacionservicio()}),e._uU(65,"Guardar"),e.TgZ(66,"mat-icon"),e._uU(67,"check"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(12),e.Q6J("ngModel",o.servicio.descripcion),e.xp6(7),e.Q6J("ngModel",o.servicio.clave_prod_serv),e.xp6(7),e.Q6J("ngModel",o.servicio.clave_unidad),e.xp6(7),e.Q6J("ngModel",o.servicio.unidad),e.xp6(7),e.Q6J("ngModel",o.servicio.objeto_imp),e.xp6(7),e.Q6J("ngModel",o.servicio.impuesto),e.xp6(7),e.Q6J("ngModel",o.servicio.tipo_factor),e.xp6(7),e.Q6J("ngModel",o.servicio.tasa_cuota))},directives:[_.a8,_.dn,M.Wh,T.KE,T.hX,A.Hw,x.Nt,l.Fj,l.Q7,l.JJ,l.On,N.lW],styles:[""]}),t})();var c=r(2789),q=r(9692),E=r(9761),J=r(4395),D=r(8002),B=r(5781),S=r(2458);function Q(t,n){if(1&t&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}let y=(()=>{class t{constructor(i){this.httpservi=i,this.filter="",this.myControl=new l.NI(""),this.options=[],this.servi="",this.filterValue="",this.messageEvent=new e.vpe}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,E.O)(""),(0,J.b)(150),(0,D.U)(i=>this._filter(i||"")))}_filter(i){return this.filterValue=i.toLowerCase(),this.filterValue?(this.servicios(),this.options.filter(o=>o.toLowerCase().includes(this.filterValue))):this.options.filter(o=>o.toLowerCase().includes(this.filterValue))}servicios(){this.httpservi.getservicio(this.filterValue,"Servicio").subscribe(i=>{this.options=[];for(const o in i)this.options.push(i[o].descripcion)})}serviseleccionado(){this.servi=this.myControl.value,this.options=[],this.messageEvent.emit(this.servi),this.myControl.patchValue("")}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(g))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-buscador"]],outputs:{messageEvent:"messageEvent"},decls:20,vars:5,consts:[[1,"custom"],[1,"row"],["fxLayoutAlign","space-between",1,"col-sm-auto"],["appearance","fill",1,"example-full-width",2,"width","260px"],["type","text","placeholder","Buscar...","aria-label","Nombre","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm"],[1,"example-button-row",2,"margin-right","1px"],["mat-raised-button","","color","accent",2,"margin-top","15px",3,"click"],[3,"value"]],template:function(i,o){if(1&i&&(e._UZ(0,"br"),e.TgZ(1,"mat-card",0),e.TgZ(2,"mat-card-content"),e.TgZ(3,"div",1),e.TgZ(4,"div",2),e.TgZ(5,"mat-form-field",3),e.TgZ(6,"mat-label"),e._uU(7,"Nombre del servicio"),e.qZA(),e._UZ(8,"input",4),e.TgZ(9,"mat-autocomplete",null,5),e.YNc(11,Q,2,2,"mat-option",6),e.ALo(12,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",7),e.TgZ(14,"div",8),e.TgZ(15,"button",9),e.NdJ("click",function(){return o.serviseleccionado()}),e._uU(16,"Buscar "),e.TgZ(17,"mat-icon"),e._uU(18,"search"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"br")),2&i){const s=e.MAs(10);e.xp6(8),e.Q6J("formControl",o.myControl)("matAutocomplete",s),e.xp6(3),e.Q6J("ngForOf",e.lcZ(12,3,o.filteredOptions))}},directives:[_.a8,_.dn,M.Wh,T.KE,T.hX,x.Nt,l.Fj,B.ZL,l.JJ,l.oH,B.XC,v.sg,N.lW,A.Hw,S.ey],pipes:[v.Ov],styles:[""]}),t})();function Y(t,n){1&t&&(e.TgZ(0,"th",14),e._uU(1," # "),e.qZA())}function O(t,n){if(1&t&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&t){const i=n.index;e.xp6(1),e.hij(" ",i+1," ")}}function I(t,n){1&t&&(e.TgZ(0,"th",14),e._uU(1," N\xfamero de servicio"),e.qZA())}function F(t,n){if(1&t&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.id_prod_serv," ")}}function L(t,n){1&t&&(e.TgZ(0,"th",14),e._uU(1," Codigo de barra"),e.qZA())}function z(t,n){if(1&t&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.codigo_barra," ")}}function R(t,n){1&t&&(e.TgZ(0,"th",14),e._uU(1," Descripci\xf3n"),e.qZA())}function P(t,n){if(1&t&&(e.TgZ(0,"td",15),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,i.descripcion)," ")}}function H(t,n){1&t&&e._UZ(0,"th",14)}function $(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"td",15),e.TgZ(1,"a",16),e.NdJ("click",function(){const a=e.CHM(i).$implicit;return e.oxw().eliminar(a._id,a.descripcion)}),e.TgZ(2,"mat-icon",17),e._uU(3,"delete"),e.qZA(),e.qZA(),e.qZA()}}function W(t,n){1&t&&e._UZ(0,"tr",18)}function k(t,n){1&t&&e._UZ(0,"tr",19)}const G=function(){return[5,10,20]};let X=(()=>{class t{constructor(i,o){this.httpservi=i,this.servimenu=o,this.servi="",this.bandera=1,this.serviciotabla=[],this.displayedColumns=["index","id_prod_serv","codigo_barra","descripcion","borrar"],this.dataSource=new c.by}ngOnInit(){this.servimenu.setencabezado("Baja de servicios")}serviseleccionado(i){this.servi=i,""!==this.servi&&(this.httpservi.getservicio(this.servi,"Servicio").subscribe(o=>{this.serviciotabla=[],this.serviciotabla=o,this.dataSource=new c.by(this.serviciotabla),this.dataSource.paginator=this.paginator,this.dataSource.paginator._intl.itemsPerPageLabel="Filas por pagina"}),this.servi="")}eliminar(i,o){d().fire({title:"\xbfEstas seguro?",html:`Estas por dar de baja el servicio <b>${o}</b>`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, dar de baja!"}).then(s=>{s.isConfirmed&&(this.httpservi.eliminarservicio(i).subscribe(a=>console.log("eliminado",a)),d().fire("Proceso correcto!","El servicio fue dado de baja correctamente.","success").then(a=>{a.isConfirmed&&(this.serviciotabla=[],this.dataSource=new c.by)}))})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(g),e.Y36(Z.h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-baja"]],viewQuery:function(i,o){if(1&i&&e.Gf(q.NW,5),2&i){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first)}},decls:25,vars:5,consts:[[3,"messageEvent"],[1,"row"],[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id_prod_serv"],["matColumnDef","codigo_barra"],["matColumnDef","descripcion"],["matColumnDef","borrar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","label","seleccione",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["type","button",3,"click"],["color","warn",1,"icon"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(e.TgZ(0,"app-buscador",0),e.NdJ("messageEvent",function(a){return o.serviseleccionado(a)}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"mat-card"),e.TgZ(4,"h3"),e._uU(5,"Detalles"),e.qZA(),e.TgZ(6,"table",3),e.ynx(7,4),e.YNc(8,Y,2,0,"th",5),e.YNc(9,O,2,1,"td",6),e.BQk(),e.ynx(10,7),e.YNc(11,I,2,0,"th",5),e.YNc(12,F,2,1,"td",6),e.BQk(),e.ynx(13,8),e.YNc(14,L,2,0,"th",5),e.YNc(15,z,2,1,"td",6),e.BQk(),e.ynx(16,9),e.YNc(17,R,2,0,"th",5),e.YNc(18,P,3,3,"td",6),e.BQk(),e.ynx(19,10),e.YNc(20,H,1,0,"th",5),e.YNc(21,$,4,0,"td",6),e.BQk(),e.YNc(22,W,1,0,"tr",11),e.YNc(23,k,1,0,"tr",12),e.qZA(),e._UZ(24,"mat-paginator",13),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(6),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,G)))},directives:[y,_.a8,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,q.NW,c.ge,c.ev,A.Hw,c.XQ,c.Gk],pipes:[v.rS],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();function V(t,n){1&t&&(e.TgZ(0,"th",26),e._uU(1," # "),e.qZA())}function K(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.index;e.xp6(1),e.hij(" ",i+1," ")}}function ee(t,n){1&t&&(e.TgZ(0,"th",28),e._uU(1," N\xfamero de servicio"),e.qZA())}function te(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.id_prod_serv," ")}}function ie(t,n){1&t&&(e.TgZ(0,"th",28),e._uU(1," Codigo de barra"),e.qZA())}function oe(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.codigo_barra," ")}}function ne(t,n){1&t&&(e.TgZ(0,"th",29),e._uU(1," Descripci\xf3n"),e.qZA())}function ae(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,i.descripcion)," ")}}function re(t,n){1&t&&(e.TgZ(0,"th",30),e._uU(1," Clave del producto"),e.qZA())}function se(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.clave_prod_serv," ")}}function ce(t,n){1&t&&(e.TgZ(0,"th",31),e._uU(1," Clave de unidad"),e.qZA())}function le(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.clave_unidad," ")}}function de(t,n){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Unidad"),e.qZA())}function ue(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.unidad," ")}}function me(t,n){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Objeto impuesto"),e.qZA())}function pe(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.objeto_imp," ")}}function _e(t,n){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Impuesto"),e.qZA())}function ge(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.impuesto," ")}}function he(t,n){1&t&&(e.TgZ(0,"th",32),e._uU(1,"Tipo factor"),e.qZA())}function ve(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.tipo_factor," ")}}function Ze(t,n){1&t&&(e.TgZ(0,"th",33),e._uU(1,"Tasa/Cuota"),e.qZA())}function fe(t,n){if(1&t&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.hij(" ",i.tasa_cuota," ")}}function Te(t,n){1&t&&e._UZ(0,"tr",34)}function Ce(t,n){1&t&&e._UZ(0,"tr",35)}const Ae=function(){return[5,10,20]};let qe=(()=>{class t{constructor(i,o){this.httpservi=i,this.servimenu=o,this.servi="",this.serviciotabla=[],this.displayedColumns=["index","id_prod_serv","codigo_barra","descripcion","clave_prod_serv","clave_unidad","unidad","objeto_imp","impuesto","tipo_factor","tasa_cuota"],this.dataSource=new c.by}ngOnInit(){this.servimenu.setencabezado("Consulta de servicios")}serviseleccionado(i){this.servi=i,""!==this.servi&&(this.httpservi.getservicio(this.servi,"Servicio").subscribe(o=>{this.serviciotabla=[],this.serviciotabla=o,this.dataSource=new c.by(this.serviciotabla),this.dataSource.paginator=this.paginator,this.dataSource.paginator._intl.itemsPerPageLabel="Filas por pagina"}),this.servi="")}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(g),e.Y36(Z.h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-consulta"]],viewQuery:function(i,o){if(1&i&&e.Gf(q.NW,5),2&i){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first)}},decls:43,vars:5,consts:[[3,"messageEvent"],[1,"row"],[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","width","8%",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id_prod_serv"],["mat-header-cell","","width","16%",4,"matHeaderCellDef"],["matColumnDef","codigo_barra"],["matColumnDef","descripcion"],["mat-header-cell","","width","20%",4,"matHeaderCellDef"],["matColumnDef","clave_prod_serv"],["mat-header-cell","","width","14%",4,"matHeaderCellDef"],["matColumnDef","clave_unidad"],["mat-header-cell","","width","5%",4,"matHeaderCellDef"],["matColumnDef","unidad"],["matColumnDef","objeto_imp"],["matColumnDef","impuesto"],["matColumnDef","tipo_factor"],["mat-header-cell","","width","15%",4,"matHeaderCellDef"],["matColumnDef","tasa_cuota"],["mat-header-cell","","width","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","label","seleccione",3,"pageSizeOptions"],["mat-header-cell","","width","8%"],["mat-cell",""],["mat-header-cell","","width","16%"],["mat-header-cell","","width","20%"],["mat-header-cell","","width","14%"],["mat-header-cell","","width","5%"],["mat-header-cell","","width","15%"],["mat-header-cell","","width",""],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(e.TgZ(0,"app-buscador",0),e.NdJ("messageEvent",function(a){return o.serviseleccionado(a)}),e.qZA(),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"mat-card"),e.TgZ(4,"h3"),e._uU(5,"Detalles"),e.qZA(),e.TgZ(6,"table",3),e.ynx(7,4),e.YNc(8,V,2,0,"th",5),e.YNc(9,K,2,1,"td",6),e.BQk(),e.ynx(10,7),e.YNc(11,ee,2,0,"th",8),e.YNc(12,te,2,1,"td",6),e.BQk(),e.ynx(13,9),e.YNc(14,ie,2,0,"th",8),e.YNc(15,oe,2,1,"td",6),e.BQk(),e.ynx(16,10),e.YNc(17,ne,2,0,"th",11),e.YNc(18,ae,3,3,"td",6),e.BQk(),e.ynx(19,12),e.YNc(20,re,2,0,"th",13),e.YNc(21,se,2,1,"td",6),e.BQk(),e.ynx(22,14),e.YNc(23,ce,2,0,"th",15),e.YNc(24,le,2,1,"td",6),e.BQk(),e.ynx(25,16),e.YNc(26,de,2,0,"th",15),e.YNc(27,ue,2,1,"td",6),e.BQk(),e.ynx(28,17),e.YNc(29,me,2,0,"th",15),e.YNc(30,pe,2,1,"td",6),e.BQk(),e.ynx(31,18),e.YNc(32,_e,2,0,"th",15),e.YNc(33,ge,2,1,"td",6),e.BQk(),e.ynx(34,19),e.YNc(35,he,2,0,"th",20),e.YNc(36,ve,2,1,"td",6),e.BQk(),e.ynx(37,21),e.YNc(38,Ze,2,0,"th",22),e.YNc(39,fe,2,1,"td",6),e.BQk(),e.YNc(40,Te,1,0,"tr",23),e.YNc(41,Ce,1,0,"tr",24),e.qZA(),e._UZ(42,"mat-paginator",25),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(6),e.Q6J("dataSource",o.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Ae)))},directives:[y,_.a8,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,q.NW,c.ge,c.ev,c.XQ,c.Gk],pipes:[v.rS],styles:["table[_ngcontent-%COMP%]{width:100%;display:block;overflow-x:auto}"]}),t})();const Ue=[{path:"",children:[{path:"alta",component:w,data:{Transaccion:"SERVICIOS-ALTA"},canActivate:[p.z,m._],canLoad:[p.z,m._]},{path:"editar",component:(()=>{class t{constructor(i,o){this.httpservi=i,this.servimenu=o,this.servi="",this.bandera=1,this.servicio={_id:"",id_prod_serv:"",descripcion:"",tipo:"Servicio",clave_prod_serv:"",clave_unidad:"",unidad:"",objeto_imp:"",impuesto:"",tipo_factor:"",tasa_cuota:""}}ngOnInit(){this.servimenu.setencabezado("Edici\xf3n de servicios")}serviseleccionado(i){this.servi=i,""!==this.servi&&(this.httpservi.getservicio(this.servi,"Servicio").subscribe(o=>{console.log(o[0].descripcion),this.servicio._id=o[0]._id,this.servicio.descripcion=o[0].descripcion,this.servicio.id_prod_serv=o[0].id_prod_serv,this.servicio.clave_prod_serv=o[0].clave_prod_serv,this.servicio.clave_unidad=o[0].clave_unidad,this.servicio.unidad=o[0].unidad,this.servicio.objeto_imp=o[0].objeto_imp,this.servicio.impuesto=o[0].impuesto,this.servicio.tipo_factor=o[0].tipo_factor,this.servicio.tasa_cuota=o[0].tasa_cuota,this.servi=""}),this.bandera=0)}actualizar(){this.httpservi.actualizarservicio(this.servicio).subscribe(i=>{console.log("actualizado",i),this.modal()},i=>{d().fire({title:"Ups!!",text:"No se pudieron guardar los cambios",icon:"success",confirmButtonText:"ok"}),console.log(i)})}modal(){d().fire({title:"Cambios aplicados",text:"Se han guardado y aplicado los cambios correctamente",icon:"success",confirmButtonText:"ok"}).then(i=>{i.isConfirmed&&(this.servi="",this.servicio.id_prod_serv="",this.servicio.descripcion="",this.servicio.clave_prod_serv="",this.servicio.clave_unidad="",this.servicio.unidad="",this.servicio.objeto_imp="",this.servicio.impuesto="",this.servicio.tipo_factor="",this.servicio.tasa_cuota="")})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(g),e.Y36(Z.h))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-editar"]],decls:75,vars:9,consts:[[3,"messageEvent"],[1,"custom"],[1,"row"],["fxLayoutAlign","space-between",1,"col-sm-auto"],["appearance","fill"],["matInput","","placeholder","","value","","readonly","",3,"ngModel","ngModelChange"],["appearance","fill",2,"width","300px"],["matInput","","placeholder","servicio","value","",3,"ngModel","ngModelChange"],["appearance","fill",2,"width","200px"],["matInput","","placeholder","","value","",3,"ngModel","ngModelChange"],["appearance","fill",2,"width","100px"],["matInput","","placeholder","","value","","required","true",3,"ngModel","ngModelChange"],[1,"col-sm"],[1,"example-button-row",2,"margin-right","1px"],["mat-raised-button","","color","primary",2,"margin-top","15px",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"app-buscador",0),e.NdJ("messageEvent",function(a){return o.serviseleccionado(a)}),e.qZA(),e.TgZ(1,"mat-card",1),e.TgZ(2,"h3"),e._uU(3,"Editar servicio"),e.qZA(),e.TgZ(4,"mat-card-content"),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"mat-form-field",4),e.TgZ(8,"mat-label"),e._uU(9,"N\xfamero del servicio "),e.TgZ(10,"mat-icon"),e._uU(11,"lock"),e.qZA(),e.qZA(),e.TgZ(12,"input",5),e.NdJ("ngModelChange",function(a){return o.servicio.id_prod_serv=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",3),e.TgZ(14,"mat-form-field",6),e.TgZ(15,"mat-label"),e._uU(16,"Descripci\xf3n del servicio "),e.TgZ(17,"mat-icon"),e._uU(18,"create"),e.qZA(),e.qZA(),e.TgZ(19,"input",7),e.NdJ("ngModelChange",function(a){return o.servicio.descripcion=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",3),e.TgZ(21,"mat-form-field",8),e.TgZ(22,"mat-label"),e._uU(23,"Clave del servicio "),e.TgZ(24,"mat-icon"),e._uU(25,"create"),e.qZA(),e.qZA(),e.TgZ(26,"input",9),e.NdJ("ngModelChange",function(a){return o.servicio.clave_prod_serv=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",3),e.TgZ(28,"mat-form-field",10),e.TgZ(29,"mat-label"),e._uU(30,"Clave de la unidad"),e.TgZ(31,"mat-icon"),e._uU(32,"create"),e.qZA(),e.qZA(),e.TgZ(33,"input",9),e.NdJ("ngModelChange",function(a){return o.servicio.clave_unidad=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",3),e.TgZ(35,"mat-form-field",10),e.TgZ(36,"mat-label"),e._uU(37,"Unidad "),e.TgZ(38,"mat-icon"),e._uU(39,"create"),e.qZA(),e.qZA(),e.TgZ(40,"input",9),e.NdJ("ngModelChange",function(a){return o.servicio.unidad=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",3),e.TgZ(42,"mat-form-field",10),e.TgZ(43,"mat-label"),e._uU(44,"Objeto de impuesto "),e.TgZ(45,"mat-icon"),e._uU(46,"create"),e.qZA(),e.qZA(),e.TgZ(47,"input",11),e.NdJ("ngModelChange",function(a){return o.servicio.objeto_imp=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",3),e.TgZ(49,"mat-form-field",10),e.TgZ(50,"mat-label"),e._uU(51,"impuesto "),e.TgZ(52,"mat-icon"),e._uU(53,"create"),e.qZA(),e.qZA(),e.TgZ(54,"input",11),e.NdJ("ngModelChange",function(a){return o.servicio.impuesto=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",3),e.TgZ(56,"mat-form-field",10),e.TgZ(57,"mat-label"),e._uU(58,"Tipo de factor "),e.TgZ(59,"mat-icon"),e._uU(60,"create"),e.qZA(),e.qZA(),e.TgZ(61,"input",11),e.NdJ("ngModelChange",function(a){return o.servicio.tipo_factor=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",3),e.TgZ(63,"mat-form-field",10),e.TgZ(64,"mat-label"),e._uU(65,"Tasa o cuota"),e.TgZ(66,"mat-icon"),e._uU(67,"create"),e.qZA(),e.qZA(),e.TgZ(68,"input",11),e.NdJ("ngModelChange",function(a){return o.servicio.tasa_cuota=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",12),e.TgZ(70,"div",13),e.TgZ(71,"button",14),e.NdJ("click",function(){return o.actualizar()}),e._uU(72,"Guardar"),e.TgZ(73,"mat-icon"),e._uU(74,"loop"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(12),e.Q6J("ngModel",o.servicio.id_prod_serv),e.xp6(7),e.Q6J("ngModel",o.servicio.descripcion),e.xp6(7),e.Q6J("ngModel",o.servicio.clave_prod_serv),e.xp6(7),e.Q6J("ngModel",o.servicio.clave_unidad),e.xp6(7),e.Q6J("ngModel",o.servicio.unidad),e.xp6(7),e.Q6J("ngModel",o.servicio.objeto_imp),e.xp6(7),e.Q6J("ngModel",o.servicio.impuesto),e.xp6(7),e.Q6J("ngModel",o.servicio.tipo_factor),e.xp6(7),e.Q6J("ngModel",o.servicio.tasa_cuota))},directives:[y,_.a8,_.dn,M.Wh,T.KE,T.hX,A.Hw,x.Nt,l.Fj,l.JJ,l.On,l.Q7,N.lW],styles:[""]}),t})(),data:{Transaccion:"SERVICIOS-EDICION"},canActivate:[p.z,m._],canLoad:[p.z,m._]},{path:"baja",component:X,data:{Transaccion:"SERVICIOS-BAJA"},canActivate:[p.z,m._],canLoad:[p.z,m._]},{path:"consulta",component:qe,data:{Transaccion:"SERVICIOS-CONSULTA"},canActivate:[p.z,m._],canLoad:[p.z,m._]},{path:"**",redirectTo:"/menu/md"}]}];let Me=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[f.Bz.forChild(Ue)],f.Bz]}),t})(),xe=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[v.ez,Me,b.q,l.UX,l.u5]]}),t})()}}]);